<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "https://jetty.org/configure_10_0.dtd">

<!-- =============================================================== -->
<!-- Create Default Deployment Provider                              -->
<!--                                                                 -->
<!-- The Default Deployment Provider is responsible for monitoring   -->
<!-- provided directories for web applications and hot deploying     -->
<!-- through the DeploymentManager.                                  -->
<!-- =============================================================== -->
<Configure id="defaultDeployer" class="org.eclipse.jetty.deploy.providers.DefaultProvider">
  <Call name="addMonitoredDirectory">
    <Arg>
      <Call name="resolvedPath" class="org.eclipse.jetty.xml.XmlConfiguration">
        <Arg>
          <Property name="jetty.base" />
        </Arg>
        <Arg>
          <Property name="jetty.deploy.monitoredDir" default="webapps" />
        </Arg>
      </Call>
    </Arg>
  </Call>
  <Set name="environmentsDirectory">
    <Call name="resolvedPath" class="org.eclipse.jetty.xml.XmlConfiguration">
      <Arg>
        <Property name="jetty.base" />
      </Arg>
      <Arg>
        <Property name="jetty.deploy.environmentsDir" default="environments" />
      </Arg>
    </Call>
  </Set>
  <Set name="deferInitialScan" property="jetty.deploy.deferInitialScan" />
  <Set name="scanInterval" property="jetty.deploy.scanInterval" />

  <Ref refid="DeploymentManager">
    <Call name="addAppProvider">
      <Arg>
        <Ref refid="defaultDeployer" />
      </Arg>
    </Call>
  </Ref>
</Configure>
